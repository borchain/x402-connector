# ========================================================================
# x402-connector Configuration - Flask Example
# ========================================================================
# Copy this file to .env and configure your keys

# Required: Your Solana wallet address for RECEIVING payments (cold wallet)
# This is where customers send money (keep private key offline!)
X402_PAY_TO_ADDRESS=your_solana_address_here

# Required: Server wallet private key for SENDING transactions (hot wallet)
# This pays gas fees to settle/broadcast transactions (keep small balance!)
# Format: Base58-encoded private key from Solana CLI or Phantom export
X402_SIGNER_KEY=your_base58_private_key_here

# Network: solana-mainnet, solana-devnet, or solana-testnet
X402_NETWORK=solana-mainnet  # Use 'solana-devnet' for testing

# Default price (can be overridden per endpoint with @require_payment(price='...'))
X402_PRICE=$0.01

# Debug mode: True = simulated (safe testing), False = real transactions
X402_DEBUG_MODE=True

# Optional: Custom RPC URL (uses public RPC if not set)
# X402_RPC_URL=https://api.mainnet-beta.solana.com

# Optional: Durable nonce account (prevents transaction expiry!)
# X402_USE_DURABLE_NONCE=False
# X402_NONCE_ACCOUNT=your_nonce_account_address

# FastAPI Configuration
FASTAPI_DEBUG=False
PORT=8000

# ========================================================================
# HOW TO GET THESE VALUES
# ========================================================================

# 1. GET YOUR SOLANA ADDRESS (X402_PAY_TO_ADDRESS)
#    - Install Phantom wallet: https://phantom.app/
#    - Create wallet or import existing
#    - Copy your address (starts with uppercase letter, 32-44 chars)
#    - This is your COLD WALLET - customers pay here

# 2. GET YOUR PRIVATE KEY (X402_SIGNER_KEY)
#    Option A - From Phantom (recommended for devnet testing):
#      - Open Phantom → Settings → Show Secret Recovery Phrase
#      - Export private key (base58 format)
#      - This is your HOT WALLET for paying gas fees
#
#    Option B - Generate with Solana CLI:
#      solana-keygen new --outfile ~/.config/solana/x402-signer.json
#      solana-keygen pubkey ~/.config/solana/x402-signer.json  # Shows public key
#      cat ~/.config/solana/x402-signer.json  # Copy this as X402_SIGNER_KEY

# 3. FUND YOUR WALLETS
#    Devnet:
#      - Get free SOL: solana airdrop 2 YOUR_ADDRESS --url devnet
#      - Get free USDC: https://spl-token-faucet.com/ (Devnet USDC)
#
#    Mainnet:
#      - Buy SOL/USDC on exchange
#      - Transfer to your wallets
#      - Hot wallet needs ~0.05 SOL for gas
#      - Cold wallet receives payments

# ========================================================================
# WALLET STRATEGY
# ========================================================================
# COLD WALLET (X402_PAY_TO_ADDRESS):
#   - Receives all customer payments
#   - Keep private key OFFLINE and secure
#   - Accumulate funds here safely
#
# HOT WALLET (X402_SIGNER_KEY):
#   - Pays gas fees for transaction broadcasting
#   - Needs small SOL balance (~0.05 SOL)
#   - Keep minimal funds (server compromise risk)
#
# SECURITY:
#   - NEVER commit .env to git
#   - Use different wallets for cold/hot
#   - Regularly transfer funds from hot → cold

